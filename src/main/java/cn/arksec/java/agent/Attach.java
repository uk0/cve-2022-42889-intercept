package cn.arksec.java.agent;

import com.sun.tools.attach.AgentInitializationException;
import com.sun.tools.attach.AgentLoadException;
import com.sun.tools.attach.AttachNotSupportedException;
import com.sun.tools.attach.VirtualMachine;

import java.io.IOException;

public class Attach {
    public static void main(String[] args)
            throws AttachNotSupportedException, IOException, AgentLoadException, AgentInitializationException {
        // -javaagent:/Users/firshme/Desktop/ark_workspace/CVE_Project/CVE-2022-42889-Agent/target/CVE-2022-42889-Agent-1.0-SNAPSHOT-jar-with-dependencies.jar
        VirtualMachine vm = VirtualMachine.attach("48968");
        vm.loadAgent("/Users/firshme/Desktop/ark_workspace/CVE_Project/CVE-2022-42889-Agent/target/CVE-2022-42889-Agent-1.0-SNAPSHOT-jar-with-dependencies.jar");
    }
}